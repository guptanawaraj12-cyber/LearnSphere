<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Notes</title>

<!-- Firebase scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<style>
  body { font-family:'Segoe UI',sans-serif; margin:0; padding:0; background:#0d0d0d; color:white; overflow-x:hidden; }
  h1 { text-align:center; margin:20px 0; }
  .logout-btn { position:absolute; right:20px; top:20px; padding:10px 15px; cursor:pointer; border:none; border-radius:5px; background:#ff3366; color:white; }
  .welcome { text-align:center; margin-bottom:20px; font-size:1.2em; }
  .class-buttons { display:flex; justify-content:center; flex-wrap:wrap; gap:10px; margin-bottom:30px; }
  .class-buttons button { padding:10px 20px; border:none; border-radius:8px; cursor:pointer; background:#1a1a1a; color:white; font-weight:bold; transition:0.3s; box-shadow:0 0 10px #00ffff; }
  .class-buttons button.active, .class-buttons button:hover { background:#00ffff; color:#000; box-shadow:0 0 20px #00ffff; }
  .subjects-container { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:20px; padding:0 20px; }
  .subject-card { background:#1a1a1a; border-radius:12px; padding:20px; text-align:center; cursor:pointer; transition:0.3s; box-shadow:0 0 10px #ff00ff; }
  .subject-card:hover { transform:translateY(-5px) scale(1.05); box-shadow:0 0 20px #ff00ff; }
  .subject-card h3 { color:#00ffff; text-shadow:0 0 5px #00ffff, 0 0 10px #ff00ff; }
  @media(max-width:768px){ .subjects-container{grid-template-columns:repeat(auto-fit,minmax(140px,1fr));} }
</style>
</head>
<body>

<button class="logout-btn" id="logoutBtn">Logout</button>
<h1>Student Notes</h1>
<p class="welcome" id="welcomeMessage">Welcome!</p>

<div class="class-buttons">
  <button data-class="8" class="active">Class 8</button>
  <button data-class="9">Class 9</button>
  <button data-class="10">Class 10</button>
  <button data-class="11">Class 11</button>
  <button data-class="12">Class 12</button>
</div>

<div class="subjects-container" id="subjectsContainer"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Initialize Firebase
  const firebaseConfig = {
  apiKey: "AIzaSyCg2DammNHbiNwH6Yc_0jngX83mGhrK2vI",
  authDomain: "gyanu-notes.firebaseapp.com",
  projectId: "gyanu-notes",
  storageBucket: "gyanu-notes.firebasestorage.app",
  messagingSenderId: "53515556086",
  appId: "1:53515556086:web:1986f0db90076ea3a988d7",
  measurementId: "G-Z7Q8KVFTC5"
};
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  const welcomeMessage = document.getElementById("welcomeMessage");
  const logoutBtn = document.getElementById("logoutBtn");
  const subjectsContainer = document.getElementById("subjectsContainer");
  const classButtons = document.querySelectorAll(".class-buttons button");

  const subjects = {
    8: ["Math", "Science", "English", "Social Studies", "Computer", "Nepali"],
    9: ["Math", "Science", "English", "Social Studies", "Computer", "Nepali"],
    10: ["Math", "Science", "English", "Social Studies", "Computer", "Nepali"],
    11: ["Physics", "Chemistry", "Biology", "Math", "English", "Computer"],
    12: ["Physics", "Chemistry", "Biology", "Math", "English", "Computer"]
  };

  // Protect page: redirect if not logged in
  auth.onAuthStateChanged(user => {
    if(user){
      const name = user.displayName ? user.displayName : user.email;
      welcomeMessage.textContent = `Welcome, ${name}!`;
    } else {
      window.location.href = "login.html";
    }
  });

  // Logout
  logoutBtn.addEventListener("click", () => {
    auth.signOut().then(() => window.location.href = "login.html");
  });

  // Show subjects for selected class
  function showSubjects(classNumber){
    subjectsContainer.innerHTML = "";
    subjects[classNumber].forEach(sub => {
      const card = document.createElement("div");
      card.classList.add("subject-card");
      card.innerHTML = `<h3>${sub}</h3>`;
      subjectsContainer.appendChild(card);
    });
  }

  // Initialize with Class 8
  showSubjects(8);

  // Class button click
  classButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      classButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      showSubjects(btn.dataset.class);
    });
  });
});
</script>

</body>
</html>
